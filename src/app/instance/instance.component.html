<main>
	<header>
		<form>
			<mat-form-field appearance="fill">
				<mat-label>{{"w√§hle Instanz"|translate}}</mat-label>
				<mat-select [formControl]="instanceNamen">
					<mat-option *ngFor="let instance of instanceNamenList|async" [value]="instance">
						<a mat-list-item routerLink="/instance/{{instance}}">{{instance}}</a>
					</mat-option>
				</mat-select>
			</mat-form-field>
			<span class="badge"></span>
			<button type="button" (click)="openFilterDialog()">{{"Filtern"|translate}}</button>
		</form>
	</header>
	<!-- ------------------------------------>

	<body>
		<h2>{{"Die Instanzen"|translate}}: </h2>
		<app-grid>
			<app-tile *ngFor="let instance of realInstancesObservable|async">
				<span *ngIf="isActivated(instance.name)">
					<a routerLink="/instance/{{instance.name}}">
						<span class="badge">{{instance.name}}</span> </a>
					<br>
					<ng-container *ngIf="instance.status === 'stopped'">
						<canvas class="dot_offline"> </canvas>
					</ng-container>
					<ng-container *ngIf="!(instance.status === 'stopped') ">
						<ng-container *ngFor="let service of instance.services">
							<span class="items" *ngIf="isActivated(service.name)">
								<span *ngIf="isRunningGreen(service.status)">
									<ng-container [ngSwitch]="service.status">
										<canvas class="dot_running"> </canvas>
									</ng-container>
								</span>
								<span *ngIf="isRunningYellow(service.status)">
									<ng-container [ngSwitch]="service.status">
										<canvas class="dot_slow"> </canvas>
									</ng-container>
								</span>
								<span *ngIf="isRunningRed(service.status)">
									<ng-container [ngSwitch]="service.status">
										<canvas class="dot_error"> </canvas>
									</ng-container>
								</span>
								<span>
									&nbsp;
									{{service.name}}
									&nbsp;
								</span>
							</span>
						</ng-container>
					</ng-container>
				</span>
			</app-tile>
		</app-grid>
		<h2>{{"Schlechtester Status jeder Instanz"|translate}}: </h2>
			<app-grid>
				<app-tile *ngFor="let instance of realInstancesObservable|async">
					<span *ngIf="isActivatedReal(instance.name)">
						<ng-container>
							<canvas class="dot_{{whatStatus(instance)}}"> </canvas>
							&nbsp;
						</ng-container>
						<a routerLink="/instance/{{instance.name}}">
							<span class="badge">{{instance.name}}</span> </a>
						<br>
					</span>
				</app-tile>
			</app-grid>
			<!-- <span *ngFor="let instance of instancesRealObservable|async">
				<li *ngIf="whatStatus(instance) && isActivated(instance.name)">
					<a routerLink="/instance/{{instance.name}}">
						<span class="badge">{{instance.name}}</span> </a>
					<br>
					<ng-container [ngSwitch]="whatStatus(instance)">
						<canvas class="dot_{{whatStatus(instance)}}"> </canvas>
					</ng-container>
				</li>
			</span> -->
	</body>
</main>