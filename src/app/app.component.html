<mat-sidenav-container class="side-bar">
	<mat-sidenav #drawer class="sidenav" fixedInViewport [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
		[mode]="(isHandset$ | async) ? 'over' : 'side'" [opened]="(isHandset$ | async) === false">
		<mat-toolbar>
			<img class="img-responsive" src="assets/img/openslides-logo.svg" height="30px">
		</mat-toolbar>
		<div *ngIf="isLoggedIn(); then loggedInBlock; else loggedOutBlock"></div>
	</mat-sidenav>

	<mat-sidenav-content class="header-container">
		<div class="first-header">
			<mat-toolbar color="top" class="dark-head">
				<div *ngIf="isLoggedIn(); then getLoggedOutBlock; else getLoggedInBlock"></div>
			</mat-toolbar>
			<mat-toolbar color="primary" class="light-head">
				<button type="button" aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()"
					*ngIf="isHandset$ | async">
					<mat-icon aria-label="Side nav toggle icon">
						<img class="img-responsive" src="assets/img/menu_black_24dp.svg" height="30">
					</mat-icon>
				</button>
				<h1>{{title|translate}}</h1>
				<div *ngIf="!isLoggedIn(); then InputBlock"></div>
			</mat-toolbar>
		</div>

		<!-- Content: -->
		<router-outlet></router-outlet>
	</mat-sidenav-content>
</mat-sidenav-container>

<!-- ng-templates:-->
<ng-template #loggedOutBlock>
</ng-template>

<ng-template #loggedInBlock>
	<mat-nav-list>
		<a mat-list-item routerLink="/start">{{"Start"|translate}}</a>
		<a mat-list-item routerLink="/instance">{{"Instanzen"|translate}}</a>
		<a mat-list-item routerLink="/status">{{"Status"|translate}}</a>
	</mat-nav-list>
</ng-template>

<ng-template #getLoggedOutBlock>
	<span>
		<a routerLink="/start">
			<button type="button" (click)="logout()">{{"abmelden"|translate}}</button>
		</a>
	</span>
</ng-template>

<ng-template #InputBlock>
	<span>
		<input id="name" type="text" [formControl]="inputName" placeholder="{{'Name'|translate}}">
		<input id="passwort" type="text" [formControl]="inputPassword" placeholder="{{'Passwort'|translate}}">
	</span>
</ng-template>

<ng-template #getLoggedInBlock>
	<span>
		<button type="button" (click)="checkLogin()">{{"anmelden"|translate}}</button>
	</span>
</ng-template>