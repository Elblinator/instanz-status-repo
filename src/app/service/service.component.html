<main>
	<header>
		<form>
			<mat-form-field appearance="fill">
				<mat-label>{{"w√§hle Instanz"|translate}}</mat-label>
				<mat-select [formControl]="instanceNamen">
					<mat-option *ngFor="let instance of instanceNamenList|async"
						[value]="instance">
						<a mat-list-item routerLink="/instance/{{instance}}">{{instance}}</a>
					</mat-option>
				</mat-select>
			</mat-form-field>
			<span class="badge"></span>
			<button type="button" (click)="openFilterDialog()">{{"Filtern"|translate}}</button>
		</form>
	</header>

	<body>
		<h2>{{"Instanzen aufgeteilt in Servicegruppen"|translate}} </h2>

		<h2 *ngIf="instanceAmount[0] > 0">{{"Error"|translate}} <canvas class="dot_error"></canvas></h2>
		<app-grid>
			<app-tile *ngFor="let service of instances2D_error|async">
				<ul>
					<ng-container *ngFor="let instance of service; let i = index">
						<span *ngIf="isActivatedService(instance.service)">
							<h3 class="service-title" *ngIf="i === 0"> {{instance.service}}</h3>
							<li>
								<a routerLink="/instance/{{instance.instance}}">
									<span class="badge">{{instance.instance}}</span>
								</a>
							</li>
						</span>
					</ng-container>
				</ul>
			</app-tile>
		</app-grid>
		<h2 *ngIf="instanceAmount[1] > 0">{{"Langsam"|translate}} <canvas class="dot_slow"></canvas></h2>
		<app-grid>
			<app-tile *ngFor="let service of instances2D_slow|async">
				<ul>
					<ng-container *ngFor="let instance of service; let i = index">
						<span *ngIf="isActivatedService(instance.service)">
							<h3 class="service-title" *ngIf="i === 0"> {{instance.service}}</h3>
							<li>
								<a routerLink="/instance/{{instance.instance}}">
									<span class="badge">{{instance.instance}}</span>
								</a>
							</li>
						</span>
					</ng-container>
				</ul>
			</app-tile>
		</app-grid>
		<h2 *ngIf="instanceAmount[3] > 0">{{"Offline"|translate}} <canvas class="dot_offline"></canvas></h2>
		<app-grid>
			<app-tile [ngClass]="setInstEmpty()">
				<ng-container *ngFor="let instance of instance_offline_Observable|async">
					<li>
						<a routerLink="/instance/{{instance.instance}}">
							<span class="badge">{{instance.instance}}</span>
						</a>
					</li>
				</ng-container>
			</app-tile>
		</app-grid>
		<h2 *ngIf="instanceAmount[3] > 0">{{"Schnell"|translate}} <canvas class="dot_fast"></canvas></h2>
		<app-grid>
			<app-tile [ngClass]="setInstEmpty()" *ngFor="let service of instances2D_fast|async">
				<ul>
					<ng-container *ngFor="let instance of service; let i = index">
						<span *ngIf="isActivatedService(instance.service)">
							<h3 class="service-title" *ngIf="i === 0"> {{instance.service}}</h3>
							<li>
								<a routerLink="/instance/{{instance.instance}}">
									<span class="badge">{{instance.instance}}</span>
								</a>
							</li>
						</span>
					</ng-container>
				</ul>
			</app-tile>
		</app-grid>
	</body>
</main>