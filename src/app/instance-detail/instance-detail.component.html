<main>
	<header>
		<form>
			<app-autocomplete></app-autocomplete>
		</form>
	</header>

	<body class="content">
		<span *ngIf="instancesObservable|async as inst">
			<h2>{{inst.name | uppercase}}
				<button type="button" class="neustart-button" (click)="openWarnDialog('all')">
					<mat-icon aria-label="restart-button">
						<img class="img-responsive" src="assets/img/change_circle.svg" height="25">
					</mat-icon>
				</button>
			</h2>
			<span *ngIf="!isRunningOffline(inst.status)">
				<ng-container>
					<table class="restart-content">
						<!-- Groups ----------------------------->
						<tr *ngFor="let instan of instanceGruppen">
							<td>
								<button class="dummy_style" (click)="print()">
									<canvas class="dot_dummy"> </canvas>
								</button>
							</td>
							<td>
								<mat-chip class="backgroundPink" selected (click)="print()">
									{{instan}}
								</mat-chip>
							</td>
							<td>
								<button type="button" class="neustart-button" (click)="openWarnDialog(instan)">
									<mat-icon aria-label="restart-button">
										<img class="img-responsive" src="assets/img/change_circle.svg" height="25">
									</mat-icon>
								</button>
							</td>
							<td>
								<button class="info-button" type="button" (click)="openInfoDialog(instan)">
									<mat-icon aria-label="restart-button">
										<img class="img-responsive" src="assets/img/info_icon.svg" height="25">
									</mat-icon>
								</button>
							</td>
						</tr>
						<!-- Services ------------------------ -->
						<tr *ngFor="let service of inst.services">
							<td>
								<span *ngIf="isRunningGreen(service.status)">
									<ng-container [ngSwitch]="service.status">
										<canvas class="dot_running"> </canvas>
									</ng-container>
								</span>
								<span *ngIf="isRunningYellow(service.status)">
									<ng-container [ngSwitch]="service.status">
										<canvas class="dot_slow"> </canvas>
									</ng-container>
								</span>
								<span *ngIf="isRunningRed(service.status)">
									<ng-container [ngSwitch]="service.status">
										<canvas class="dot_error"> </canvas>
									</ng-container>
								</span>
							</td>
							<td>
								<mat-chip-set *ngIf="isRunningYellow(service.status)">
									<mat-chip class="backgroundYellow" selected> {{service.name}}</mat-chip>
								</mat-chip-set>
								<mat-chip-set *ngIf="isRunningRed(service.status)">
									<mat-chip class="backgroundRed" selected> {{service.name}}</mat-chip>
								</mat-chip-set>
								<mat-chip-set *ngIf="isRunningGreen(service.status)">
									<mat-chip class="backgroundGreen" selected> {{service.name}}</mat-chip>
								</mat-chip-set>
							</td>
							<!-- <td>
								<mat-chip>
									{{service.name}}
								</mat-chip>
							</td> -->
							<td>
								<button class="neustart-button" type="button" (click)="openWarnDialog(service.name)">
									<mat-icon aria-label="restart-button">
										<img class="img-responsive" src="assets/img/change_circle.svg" height="25">
									</mat-icon>
								</button>
							</td>
						</tr>
					</table>
				</ng-container>
			</span>
			<span *ngIf="isRunningOffline(inst.status)">
				<h3>{{"Diese Instanz ist offline"|translate}} </h3>
			</span>
		</span>
	</body>

	<!-- <footer>
		<p>
			<button type="button" (click)="goBack()">{{"Zur√ºck"|translate}}</button>
		</p>
	</footer> -->

</main>